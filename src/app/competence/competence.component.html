<table class="table table-hover">
  <thead>
    <tr>

      <th scope="col">id</th>
      <th scope="col">Nom</th>
      <th scope="col">Description</th>
      <th scope="col">Niveau Aptitude</th>


    </tr>
  </thead>
  <tbody>
    <!--la méthode selectioner de rendre clickable et selectionnable chaque competence -->
    <tr *ngFor="let competence of competences$ | async" (click)="selectioner(competence.id)">

      <th scope="row">{{competence.id}}</th>
      <td>{{competence.nom}}</td>
      <td>{{competence.description}}</td>
      <td>{{competence.niveauAptitudes}}</td>

      <!--on click sur ce bouton pour SUPPRIMER une competence -->
      <td><button type="button" class="btn btn-danger" (click)="deleteCompetence(competence.id)">Supprimer</button></td>

    </tr>

  </tbody>
  <!--on click sur ce bouton pour accèder au formulaire de création -->
  <button type="button" class="btn btn-info" (click)="isCreate()">+</button>

</table>

<!--Le formulaire s'affiche lorsque le candidat désire CREER UNE COMPETENCE -->
<div *ngIf="creation">
  <form [formGroup]="competenceForm" (ngSubmit)="addCompetence()">
    <div class="form-group">
      <label for="idNomComp" class="form-label">Nom</label>
      <input type="text" class="form-control" id="idAdresse" placeholder="nom" formControlName="nom">
    </div>
    <div class="form-group">
      <label for="idDescriptionComp" class="form-label">Description</label>
      <input type="text" class="form-control" id="idCp" placeholder="Description" formControlName="description">
    </div>
    <div class="form-group">
      <label for="niveauAptitudesComp" class="form-label">Niveau</label>
      <input type="text" class="form-control" id="idVille" placeholder="niveau aptitude"
        formControlName="niveauAptitudes">
    </div>

    <button class="btn btn-primary" type="submit">Valider</button>
    <button type="button" class="btn btn-info" (click)="isCreate()">Cancel</button>

  </form>
</div>

<!--Le formulaire s'affiche lorsque le candidat désire MODIFIER UNE COMPETENCE -->
<div *ngIf="modif">
  <form [formGroup]="competenceForm" (ngSubmit)="updateCompetence()">
    <div class="form-group">
      <label for="idNomComp" class="form-label">Nom</label>
      <input type="text" class="form-control" id="idAdresse" placeholder="nom" formControlName="nom">
    </div>
    <div class="form-group">
      <label for="idDescriptionComp" class="form-label">Description</label>
      <input type="text" class="form-control" id="idCp" placeholder="Description" formControlName="description">
    </div>
    <div class="form-group">
      <label for="niveauAptitudesComp" class="form-label">Niveau</label>
      <input type="text" class="form-control" id="idVille" placeholder="niveau aptitude"
        formControlName="niveauAptitudes">
    </div>

    <button class="btn btn-primary" type="submit">Modifier</button>
    <button type="button" class="btn btn-primary" (click)="isMofif()">Cancel</button>
  </form>
</div>

<!--La balise ci-dessous permet d'afficher les resultats sur la page-->
<pre>

  {{competenceForm.value | json}}
</pre>
