<p>j'ai rçu mon Id, mon id est {{id_cv}}</p>
<table class="table table-hover">
  <thead>
    <tr>

      <th scope="col">id</th>
      <th scope="col">numero</th>
      <th scope="col">Année de la Formation</th>
      <th scope="col">Durée de la Formation</th>
      <th scope="col">L'organisme de formation</th>

    </tr>
  </thead>
  <tbody>
      <!--la méthode selectioner de rendre clickable et selectionnable chaque competence -->
    <tr *ngFor="let formation of formations$ | async" (click)="selectioner(formation.id)">

        <th scope="row">{{formation.id}}</th>
        <td>{{formation.numero}}</td>
        <td>{{formation.anneeFormation | date:'dd/MM/yyyy'}}</td>
        <td>{{formation.dureeFormation}}</td>
        <td>{{formation.organismeFormateur}}</td>
         <!--on click sur ce bouton pour SUPPRIMER une competence -->
        <td><button type="button" class="btn btn-danger" (click)="deleteFormation(formation.id)">Supprimer</button></td>

    </tr>

  </tbody>
  <!--on click sur ce bouton pour accèder au formulaire de création -->
  <button type="button" class="btn btn-info" (click)="isCreate()">+</button>

</table>

  <!--Le formulaire s'affiche lorsque le candidat désire CREER UNE COMPETENCE -->
<div *ngIf="creation">
  <form [formGroup]="formationForm" (ngSubmit)="addFormation()" >
    <div class="form-group">
      <label for="idNumFormation" class="form-label">Numero</label>
      <input type="number" class="form-control" id="idNumFormation" placeholder="nom" formControlName="numero">
    </div>
    <div class="form-group">
      <label for="idAnneeFormation" class="form-label">Année de la Formation</label>
      <input type="date" format="d" class="form-control" id="idAnneeFormation" placeholder="l'année de la formation" formControlName="anneeFormation">
    </div>
    <div class="form-group">
      <label for="dureeFormation" class="form-label">Durée de la Formation</label>
      <input type="number" class="form-control" id="idDureeFormation" placeholder="16 mois, 1 ans..." formControlName="dureeFormation">
    </div>
    <div class="form-group">
      <label for="organismeFormateur" class="form-label">L'organisme de formation</label>
      <input type="text" class="form-control" id="idOrganismeFormateur" placeholder="description de l'organisme de formation" formControlName="organismeFormateur">
    </div>
    <button class="btn btn-primary" type="submit">Valider</button>
    <button type="button" class="btn btn-info" (click)="isCreate()">Cancel</button>

  </form>
</div>

<!--Le formulaire s'affiche lorsque le candidat désire MODIFIER UNE COMPETENCE -->
<div *ngIf="modif">
  <form [formGroup]="formationForm" (ngSubmit)="updateFormation()" >
    <div class="form-group">
      <label for="idNumFormation" class="form-label">Numero</label>
      <input type="number" class="form-control" id="idNumFormation" placeholder="nom" formControlName="numero">
    </div>
    <div class="form-group">
      <label for="idAnneeFormation" class="form-label">Année de la Formation</label>
      <input type="date" format="d" class="form-control" id="idAnneeFormation" placeholder="l'année de la formation" formControlName="anneeFormation">
    </div>
    <div class="form-group">
      <label for="dureeFormation" class="form-label">Durée de la Formation</label>
      <input type="number" class="form-control" id="idDureeFormation" placeholder="16 mois, 1 ans..." formControlName="dureeFormation">
    </div>
    <div class="form-group">
      <label for="organismeFormateur" class="form-label">L'organisme de formation</label>
      <input type="text" class="form-control" id="idOrganismeFormateur" placeholder="description de l'organisme de formation" formControlName="organismeFormateur">
    </div>

    <button class="btn btn-primary" type="submit">Modifier</button>
    <button type="button" class="btn btn-primary" (click)="isMofif()">Cancel</button>
  </form>
</div>

<!--La balise ci-dessous permet d'afficher les resultats sur la page
<pre>

  {{diplomeForm.value | json}}
</pre>

-->

